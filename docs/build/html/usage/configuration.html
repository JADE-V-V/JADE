<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuration &mdash; JADE 3.0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/documentation_options.js?v=acc74ff5"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Usage" href="menu.html" />
    <link rel="prev" title="Folder Structure" href="folders.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> JADE
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">JADE User Guide:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../nutshell.html">JADE in a nutshell</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="folders.html">Folder Structure</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#main-configuration">Main Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#main-config">MAIN Config.</a></li>
<li class="toctree-l3"><a class="reference internal" href="#computational-benchmarks">Computational benchmarks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#experimental-benchmarks">Experimental benchmarks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#libraries">Libraries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#activation-file">Activation File</a></li>
<li class="toctree-l2"><a class="reference internal" href="#benchmark-run-configuration">Benchmark run configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#computational-benchmark-post-processing-configuration">Computational benchmark post-processing configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#excel">Excel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#atlas">Atlas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#experimental-benchmark-post-processing-configuration">Experimental benchmark post-processing configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#spectrumoutput-class-benchmarks-configuration-files">SpectrumOutput class benchmarks configuration files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multiplespectrumoutput-class-benchmarks-configuration-files">MultipleSpectrumOutput class benchmarks configuration files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="menu.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmarks.html">Default Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="postprocessing.html">Post-Processing Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="tipstricks.html">Tips &amp; Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">JADE Developer Guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/workflow.html">Contributing to JADE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/insertbenchmarks.html">Insert Custom Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/testing.html">JADE CI and automatic testing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">JADE API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/general.html">General OOP scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/initobjects.html">JADE Session</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/inputgeneration.html">Input Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/postprocessing.html">Post-Processing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More on JADE:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../futuredev.html">Future developments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LICENSE.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">List of Publications and Contributions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">JADE</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Configuration</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/usage/configuration.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="configuration">
<span id="config"></span><h1>Configuration<a class="headerlink" href="#configuration" title="Link to this heading"></a></h1>
<p>All configuration files are included in the <code class="docutils literal notranslate"><span class="pre">&lt;JADE_root&gt;\Configuration</span></code> directory.
In principle, <strong>the general user should only operate on the</strong> <a class="reference internal" href="#mainconfig"><span class="std std-ref">Main Configuration</span></a> <strong>file</strong>, while
all other configuration files simply guarantee an additional level of personalization for the user.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In case of user-defined benchmarks suitable <a class="reference internal" href="#runconf"><span class="std std-ref">Benchmark run configuration</span></a> and <a class="reference internal" href="#ppconf"><span class="std std-ref">Computational benchmark post-processing configuration</span></a> files need
to be produced.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Every time a new D1S library is added to the user xsdir, in order to use it in JADE a specific
sheet must be added in the <a class="reference internal" href="#activationfile"><span class="std std-ref">Activation File</span></a>.</p>
</div>
<section id="main-configuration">
<span id="mainconfig"></span><h2>Main Configuration<a class="headerlink" href="#main-configuration" title="Link to this heading"></a></h2>
<p>The most important configuration file is <code class="docutils literal notranslate"><span class="pre">&lt;JADE_root&gt;\Configuration\Config.xlsx</span></code>.
This is <strong>the only configuration file that the user must modify</strong> before operating with JADE.
Herafter, a description of the different sheets included in the file is given.</p>
<section id="main-config">
<h3>MAIN Config.<a class="headerlink" href="#main-config" title="Link to this heading"></a></h3>
<a class="reference internal image-reference" href="../_images/main.png"><img alt="../_images/main.png" src="../_images/main.png" style="width: 600px;" /></a>
<p>This sheet contains the JADE <em>ambient variables</em>:</p>
<dl class="simple">
<dt>MCNP executable</dt><dd><p>Path to the MCNP executable.</p>
</dd>
<dt>MCNP config</dt><dd><p>Name of the config shell script containing environment variables required for running MCNP on UNIX.
By default this file should exist already in the same folder as the Config.xlsx named mcnp_config.sh.
The main purpose of this file is to allow for switching modules and environment variables at runtime
when performing multi-code runs, as it may be the case a different compiler is required for a specific
code. If running either single or multiple codes with a correctly configured enviroment, or if running
on windows, this file can be left empty.</p>
</dd>
<dt>Serpent executable</dt><dd><p>Path to Serpent executable.</p>
</dd>
<dt>Serpent config</dt><dd><p>Name of the config shell script containing environment variables required for running Serpent on UNIX.
see MCNP_config above for more information.</p>
</dd>
<dt>OpenMC executable</dt><dd><p>Path to OpenmC executable.</p>
</dd>
<dt>OpenMC config</dt><dd><p>Name of the config shell script containing environment variables required for running OpenMC on UNIX.
see MCNP_config above for more information.</p>
</dd>
<dt>D1S executable</dt><dd><p>Path to D1S executable (not yet implemented).</p>
</dd>
<dt>D1S config</dt><dd><p>Name of the config shell script containing environment variables required for running D1S on UNIX.
see MCNP_config above for more information (not yet implemented).</p>
</dd>
<dt>OpenMP threads</dt><dd><p>Specifies the number of threads to use when running OpenMP executables</p>
</dd>
<dt>MPI tasks</dt><dd><p>Specifies how many cores to use when executing an MPI tasks</p>
</dd>
<dt>Batch system</dt><dd><p>The command used to run a batch job on the current system, for example LLsubmit for LoadLeveler or sbatch
for SLURM. This command is required to run any calculation as a job, the code will default to a command
line run if left blank.</p>
</dd>
<dt>Batch file</dt><dd><p>Template of the job submission script to be utilised on the users chosen system. This should match the
command provided for the Batch system variable. Several default job submission scripts are provided in
the Job_Script_Template folder in the Configuration folder. Examples of the layout of these templates
are detailed below.</p>
</dd>
</dl>
</section>
<section id="computational-benchmarks">
<span id="compsheet"></span><h3>Computational benchmarks<a class="headerlink" href="#computational-benchmarks" title="Link to this heading"></a></h3>
<a class="reference internal image-reference" href="../_images/comp.png"><img alt="../_images/comp.png" src="../_images/comp.png" style="width: 600px;" /></a>
<p>This table collects allows to personalize which <em>computational benchmarks</em> should be included
in the JADE assessment. Each row controls a different benchmark, where the following options
(columns) are available:</p>
<dl>
<dt>Description</dt><dd><p>This is the extended name of the benchmark, this name will appear in specific outputs of the
post-processing.</p>
</dd>
<dt>Folder Name</dt><dd><p>Name of the folder containing input files for all codes. These need to be placed in <code class="docutils literal notranslate"><span class="pre">&lt;JADE</span> <span class="pre">root&gt;\Benchmarks</span> <span class="pre">inputs</span></code>.</p>
</dd>
<dt>OnlyInput</dt><dd><p>When this field is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> the benchmark input is only generated but not run. This can be
useful when the user wants to run the benchmark on a different hardware with respect to the
one where JADE is being used.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tipstricks.html#externalrun"><span class="std std-ref">External Run of a benchmark</span></a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This input has priority with respect to the ‘Run’ one, i.e., if both are
set to True, the inputs will be only generated and not run.</p>
</div>
</dd>
<dt>MCNP</dt><dd><p>Runs the benchmark input for MCNP if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.
This allows to customize the selection of benchmarks to be run during an assessment or avoid
to re-run benchmarks that were already simulated in the past.</p>
</dd>
<dt>Serpent</dt><dd><p>As above, runs the benchmark input for Serpent if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt>OpenMC</dt><dd><p>As above, runs the benchmark input for OpenMC if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt>D1S</dt><dd><p>As above, runs the benchmark input for D1S if set to <code class="docutils literal notranslate"><span class="pre">True</span></code> (NOT YET IMPLEMENTED).</p>
</dd>
<dt>Post-Processing</dt><dd><p>this field works exactly as the <code class="docutils literal notranslate"><span class="pre">Run</span></code> one but for the post-processing operations.
Post processing is performed for any code marked as <code class="docutils literal notranslate"><span class="pre">True</span></code> in the corresponding
row.</p>
</dd>
<dt>NPS cut-off</dt><dd><p>this is equivalent to the <code class="docutils literal notranslate"><span class="pre">NPS</span></code> entry in the MCNP STOP card. It sets a maximum amount
of histories to be simulated. Only integers are allowed.</p>
</dd>
<dt>Custom input</dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version v1.3.0: </span>This columns allows to provide custom inputs to the different benchmarks. For the
moment, this is used only in the <em>Sphere Leakage</em> and <em>Sphere SDDR</em> benchmarks where,
if a number <em>n</em> is specified, this will limit the test to the first <em>n</em> isotope and
material simulations (useful for testing).</p>
</div>
</dd>
</dl>
</section>
<section id="experimental-benchmarks">
<h3>Experimental benchmarks<a class="headerlink" href="#experimental-benchmarks" title="Link to this heading"></a></h3>
<a class="reference internal image-reference" href="../_images/exp.jpg"><img alt="../_images/exp.jpg" src="../_images/exp.jpg" style="width: 600px;" /></a>
<p>The structure of the sheet is exactly the same as the <a class="reference internal" href="#compsheet"><span class="std std-ref">Computational benchmarks</span></a> one. Nevertheless,
in this table are indicated the settings for the experimental benchmarks.</p>
</section>
<section id="libraries">
<h3>Libraries<a class="headerlink" href="#libraries" title="Link to this heading"></a></h3>
<a class="reference internal image-reference" href="../_images/lib.png"><img alt="../_images/lib.png" src="../_images/lib.png" style="width: 400px;" /></a>
<p>This sheet contains the paths of nuclear data library index files for the various codes.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not use invalid filename characters (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;\&quot;</span></code>) in the names assigned to the
libraries!</p>
</div>
</section>
</section>
<section id="activation-file">
<span id="activationfile"></span><h2>Activation File<a class="headerlink" href="#activation-file" title="Link to this heading"></a></h2>
<a class="reference internal image-reference" href="../_images/activation.jpg"><img alt="../_images/activation.jpg" src="../_images/activation.jpg" style="width: 600px;" /></a>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;JADE_root&gt;\Configuration\Activation.xlsx</span></code> file stores all the reactions available in the different versions of the D1S-UNED
activation libraries. For each library a sheet needs to be added having as name the
suffix used in the xsdir file for the library. Only three columns in the table are mandatory
and these are the <strong>Parent</strong>, <strong>MT</strong> and <strong>Daughter</strong> ones.</p>
</section>
<section id="benchmark-run-configuration">
<span id="runconf"></span><h2>Benchmark run configuration<a class="headerlink" href="#benchmark-run-configuration" title="Link to this heading"></a></h2>
<p>for the <em>Sphere Leakage</em> and for the <em>Sphere SDDR</em> benchmarks ad-hoc run
configuration file are defined and can be found in the
<code class="docutils literal notranslate"><span class="pre">&lt;JADE_root&gt;\Configuration\Sphere</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;JADE_root&gt;\Configuration\SphereSDDR</span></code>
folders. These are .csv files that control for each element or typical material
the following run parameters:</p>
<dl class="simple">
<dt>NPS cut-off</dt><dd><p>specifies the number of particle histories to be set in the MCNP
STOP card.</p>
</dd>
<dt>CTME cut-off</dt><dd><p>specifies the total computer time to be set in the MCNP STOP card.</p>
</dd>
<dt>Relative Error cut-off</dt><dd><p>specifies a precision limit for a tally to be set in the MCNP STOP card.</p>
</dd>
<dt>Density [g/cc]</dt><dd><p>specifies the density to be considered in the sphere for the
isotope/typical material.</p>
</dd>
<dt>Name</dt><dd><p>name to be used during post-processing (e.g. Hydrogen or SS316L(N)-IG)</p>
</dd>
<dt>Symbol</dt><dd><p>element symbol (e.g. H) or material number (e.g. M400). In case of material
number the id must be consistent with the ones indicated in the
<code class="docutils literal notranslate"><span class="pre">&lt;JADE_root&gt;\Benchmarks</span> <span class="pre">inputs\TypicalMaterials</span></code> file.</p>
</dd>
<dt>Z</dt><dd><p><strong>[Only for elements]</strong> element number (e.g. 1 for H).</p>
</dd>
<dt>Let Override</dt><dd><p>If True, the general settings specified in the <a class="reference internal" href="#mainconfig"><span class="std std-ref">Main Configuration</span></a> file
for the STOP card are considered to have priority on the specific ones.
If False, the specific parameters are not ovveridden by the general ones.</p>
</dd>
</dl>
</section>
<section id="computational-benchmark-post-processing-configuration">
<span id="ppconf"></span><h2>Computational benchmark post-processing configuration<a class="headerlink" href="#computational-benchmark-post-processing-configuration" title="Link to this heading"></a></h2>
<p>It is possible to control (to some extent) the post-processing of each benchmark via its
specific configuration file. These files are located in the <code class="docutils literal notranslate"><span class="pre">&lt;JADE_root&gt;\Configuration\Benchmarks</span> <span class="pre">Configuration</span></code>
folder and their name must be identical to the one used in the <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">Name</span></code> field in the main configuration file
(using the .xlsx extension instead of the .i). These files are available only for computational benchmarks,
since the high degree of customization needed for an experimental benchmark makes quite difficult to
standardize them. While computational benchmarks can be added to the JADE suite without the need for additional
coding, this is not true also for experimental one.</p>
<p>The files contain two main sheets, that respectively regulate the Excel and the Word/PDF (i.e., Atlas) post-processing output.</p>
<section id="excel">
<h3>Excel<a class="headerlink" href="#excel" title="Link to this heading"></a></h3>
<a class="reference internal image-reference" href="../_images/excelbench.png"><img alt="../_images/excelbench.png" src="../_images/excelbench.png" style="width: 600px;" /></a>
<p>This sheet regulates the Excel output derived from the benchmark. It consists of a table where each row regulates
the output of a single tally present in the MCNP input.</p>
<p>Hereinafter a description of the available fields is reported.</p>
<dl>
<dt>Tally</dt><dd><p>tally number according to MCNP input file.</p>
</dd>
<dt>x, y</dt><dd><p>select the binnings to be used for the presentation of the excel results of the specific tally. Clearly,
the binning should have been coherently defined in the MCNP input too. MCNP allows different types of tally binning,
they can be accessed using the tags reported in the table below.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Allowed binnings</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 100.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Admissible <strong>x</strong> and <strong>y</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Energy</p></td>
</tr>
<tr class="row-odd"><td><p>Cells</p></td>
</tr>
<tr class="row-even"><td><p>time</p></td>
</tr>
<tr class="row-odd"><td><p>tally</p></td>
</tr>
<tr class="row-even"><td><p>Dir</p></td>
</tr>
<tr class="row-odd"><td><p>User</p></td>
</tr>
<tr class="row-even"><td><p>Segments</p></td>
</tr>
<tr class="row-odd"><td><p>Multiplier</p></td>
</tr>
<tr class="row-even"><td><p>Cosine</p></td>
</tr>
<tr class="row-odd"><td><p>Cor A</p></td>
</tr>
<tr class="row-even"><td><p>Cor B</p></td>
</tr>
<tr class="row-odd"><td><p>Cor C</p></td>
</tr>
</tbody>
</table>
<p>As a result of the selected <strong>x</strong> and <strong>y</strong> option, the results of the post-processed tally will be display in a
matrix format. In case only a single binning is defined in the MCNP input, the <code class="docutils literal notranslate"><span class="pre">tally</span></code> keyword should be used to
signal to JADE to just to print the results in a column format.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The main direction of an Excel file is considered to be the vertical one, which is the preferred scrolling direction.
For this reason, the <strong>x</strong> direction is associated with the vertical direction in an Excel file and the <strong>y</strong> with
the horizontal one.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>No more than two binnings should be defined for a single MCNP tally due to the limitation of having to represent
2-D output. JADE may be able to to handle tallies with more than 2 binnings if some of them are constant
values.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If a 1D FMESH is defined in the MCNP input, JADE will automatically transform it to a “binned” tally and handle it
as any other tally using the <code class="docutils literal notranslate"><span class="pre">Cor</span> <span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">Cor</span> <span class="pre">B</span></code> or <code class="docutils literal notranslate"><span class="pre">Cor</span> <span class="pre">C</span></code> field.</p>
</div>
</dd>
<dt>x name, y name</dt><dd><p>These will be the names associated to the <strong>x</strong> and <strong>y</strong> axis printed in the excel file.</p>
</dd>
<dt>cut Y</dt><dd><p>The idea behind JADE is to produce outputs that are easy to investigate simply by scrolling and concentrate on the
main results highlighted through colors. Having a high number of bins both in the x and y axis may cause a problem
in this sense, forcing the user to scroll on both axis. For this reason, a maximum number of columns can be set to
solve this issue. This will cause the tally results not to be printed as a unique matrix but as sequential blocks
each with a number of columns equal to <strong>cut Y</strong>.</p>
</dd>
</dl>
</section>
<section id="atlas">
<h3>Atlas<a class="headerlink" href="#atlas" title="Link to this heading"></a></h3>
<a class="reference internal image-reference" href="../_images/atlasbench.png"><img alt="../_images/atlasbench.png" src="../_images/atlasbench.png" style="width: 600px;" /></a>
<p>This sheet regulates the Atlas output (Word/PDF) derived from the benchmark. It consists of a table where each row regulates
the output of a single tally present in the MCNP input.
Hereinafter a description of the available fields is reported.</p>
<dl>
<dt>Tally</dt><dd><p>tally number according to MCNP input file.</p>
</dd>
<dt>Quantity</dt><dd><p>Physical quantity that will be plotted on the y-axis of the plot. For the x-axis the one specified in the Excel sheet
under <strong>x</strong> will be considered. The quantity selected for plotting will always be the tallied quantity.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>when two binnings are specified in the Excel sheet, a different plot for each of the <strong>y</strong> bins will be produced.
For example, let’s consider a neutron flux tally binned both in energy (selected as <strong>x</strong>) and cells (selected as <strong>y</strong>).
Then, a plot showing the neutron flux as a function of energy will be produced for each cell. On the contrary, if the cell
binning is assigned to <strong>x</strong> and the energy one to <strong>y</strong>, a plot showing the neutron flux as a function of the cell would
be produced for each energy interval.</p>
</div>
</dd>
<dt>Unit</dt><dd><p>Unit associated to the Quantity.</p>
</dd>
<dt>&lt;Graph type&gt;</dt><dd><p>Different columns can be added where it can be specified if a plot in the style indicated by the column name
should be generated (<code class="docutils literal notranslate"><span class="pre">true</span></code>) or not (<code class="docutils literal notranslate"><span class="pre">false</span></code>). The available plot styles are <em>Binned graph</em>, <em>Ratio Graph</em>,
<em>Experimental points</em> and <em>Grouped bars</em>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="postprocessing.html#plotstyles"><span class="std std-ref">Plots Atlas</span></a> for an additional description of the available plot styles.</p>
</div>
</dd>
</dl>
</section>
</section>
<section id="experimental-benchmark-post-processing-configuration">
<span id="spectrumconfig"></span><h2>Experimental benchmark post-processing configuration<a class="headerlink" href="#experimental-benchmark-post-processing-configuration" title="Link to this heading"></a></h2>
<section id="spectrumoutput-class-benchmarks-configuration-files">
<h3>SpectrumOutput class benchmarks configuration files<a class="headerlink" href="#spectrumoutput-class-benchmarks-configuration-files" title="Link to this heading"></a></h3>
<p>When a binned-values data benchmark is inserted (see <a class="reference internal" href="../dev/insertbenchmarks.html#insbin"><span class="std std-ref">Insert binned-value plot experimental benchmarks</span></a>), a Configuration file
has to be defined based on the desired final plot result. The filepath is expected to be:
<code class="docutils literal notranslate"><span class="pre">&lt;JADE_root&gt;\Configuration\Benchmarks</span> <span class="pre">Configuration\&lt;BenchmarkName&gt;.xlsx</span></code>. The Excel file
must have the following structure:</p>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../_images/Example_config_oktavian.PNG"><img alt="../_images/Example_config_oktavian.PNG" src="../_images/Example_config_oktavian.PNG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Example of Oktavian configuration file structure</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The Atlas will contain one plot for each tally of the MCNP input, for each MCNP input if
multiple runs are foreseen. each column corresponds to some details in the resulting plot,
for instance:</p>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../_images/plot_example.PNG"><img alt="../_images/plot_example.PNG" src="../_images/plot_example.PNG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Example of Oktavian plot with all the corresponding configurations</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Again, in case of multiple runs each tally number must represent the same quantity in all MCNP inputs for
consistency of the parameters in the configuration file. If a tally in the configuration file is not present
in a MCNP input file (e.g. a spectrum is collected in all MCNP inputs except one), it will be skipped.
If a tally is present in a MCNP input but experimental data is not available for that tally, it will be skipped.
Obviously, the quantity and the units in the configuration file and in the experimental data file
must be consistent.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">C/E</span> <span class="pre">X</span> <span class="pre">quantity</span> <span class="pre">intervals</span></code> column must be defined as a series of numbers separated
by a <code class="docutils literal notranslate"><span class="pre">-</span></code>, which will be the upper values of the energy bins used for the interpolation and
the printing of C/E tables:</p>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../_images/CE_example.PNG"><img alt="../_images/CE_example.PNG" src="../_images/CE_example.PNG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Example of C/E tables for SpectrumOutput class</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The values in the column <code class="docutils literal notranslate"><span class="pre">Y</span> <span class="pre">label</span></code> must be different for each tally in the MCNP input
and should identify univocally the plotted quantity</p>
</section>
<section id="multiplespectrumoutput-class-benchmarks-configuration-files">
<span id="multspectrumconfig"></span><h3>MultipleSpectrumOutput class benchmarks configuration files<a class="headerlink" href="#multiplespectrumoutput-class-benchmarks-configuration-files" title="Link to this heading"></a></h3>
<p>All the considerations made in <a class="reference internal" href="#spectrumconfig"><span class="std std-ref">Experimental benchmark post-processing configuration</span></a> still hold, but the Excel file
must have a different structure:</p>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../_images/Example_config_fnstof.PNG"><img alt="../_images/Example_config_fnstof.PNG" src="../_images/Example_config_fnstof.PNG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Example of FNS-TOF configuration file structure</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Every tally an its parameters from every MCNP input file must be listed as a row in the
configuration file. A group number must be assigned to each row. Tallies belonging to the same group
will be plotted together. The user should pay attention on the fact that only plots
with the same quantities in both X and Y axis and with the same units are consistent.
Groups should be numbered starting from 1 to the last group number and their number corresponds
to their position in the <code class="docutils literal notranslate"><span class="pre">Atlas</span></code>. In the example above, for instance, all tallies in
each MCNP input are plotted together (neutron leakage spectra at different detectors’ locations’),
but in principle also tallies from different MCNP inputs can be plotted together.</p>
<p>In the following, an example of a resulting plot and the meaning of the parameters
from the configuration file are shown:</p>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="../_images/plot_example_tof.PNG"><img alt="../_images/plot_example_tof.PNG" src="../_images/plot_example_tof.PNG" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Example of FNS-TOF plot and parameters</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The title of the plot can be personalized in the code, the default is the name of the benchmark +
the name of the quantity.
The combination of <code class="docutils literal notranslate"><span class="pre">Particle</span></code>, <code class="docutils literal notranslate"><span class="pre">Quantity</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span> <span class="pre">label</span></code> must univocally identify the tally
inside the group, i.e. no tally can have the same <code class="docutils literal notranslate"><span class="pre">Particle</span></code>, <code class="docutils literal notranslate"><span class="pre">Quantity</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span> <span class="pre">label</span></code>
parameters at the same time.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="folders.html" class="btn btn-neutral float-left" title="Folder Structure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="menu.html" class="btn btn-neutral float-right" title="Usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, JADE team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>