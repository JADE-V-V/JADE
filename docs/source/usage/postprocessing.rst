###############
Post-Processing
###############

Three types of outputs are available in jade: the raw data, excel output and atlas output.

Raw data
========
Once the simulations have been performed, the raw data can be generated by running
in the root directory from the command line:

| ``jade --raw``

or

| ``python -m jade --raw``

This command will scan all available simulation results and produce the raw data for
those simulations for wich the data was not generated yet. These files are stored in the
``raw_data`` folder in the root directory of the project. Their format are simple .csv tables.

These files are the interface between the results processing which is transport code dependent
and the post-processing which is transport code independent. This means that the user is free
to build its own post-processing in case the one provided by JADE are not sufficient. A file
is produced for each result (i.e. a nuclear response) in each benchmark run. 

In case the processing was changed and there is a need to re-generate the raw data, the user
can simply delete the folders corresponding to the benchmarks that need to be re-processed in the
``raw_data`` folder.

JADE post-processing
====================

Configure the post-processing
-----------------------------

Similar to what appens for the run, also the selection on what to post-process is controlled
by a configuration file at `<root>/cfg/pp_cfg.yml`. It is strongly suggested to use the
provided GUI to properly configure the post-processing instead of interacting with the YAML
file directly.

To open the post-processing configuration GUI the user can move to the JADE root directory
and run from the command line:

| ``jade --ppgui``

or

| ``python -m jade --ppgui``

The window that will open has two sections, one showing the available benchmark results
(i.e. for which at least one code-lib assessment has been performed) and the available
code-lib results (i.e. for which at least one benchmark has been run).
The user can iteratively select subsets of these list until the desired set of comparisons
to be performed is reached. Once the selection is done, the user can save the configuration
and close the GUI.

.. image:: /img/ppgui/GUIPP_example.png
    :width: 800
    :align: center

.. important::
    The user is free to save the file to whatever location in case multiple settings need to
    be prepared. Nevertheless, JADE will always look for the ``<root>/cfg/pp_cfg.yml`` file
    when executing the post-processing.

Execute the post-processing
---------------------------

Once the configuration is saved, the user can run the post-processing by executing from the
root directory:

| ``jade --pp``

or

| ``python -m jade --pp``

